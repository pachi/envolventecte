# Bugs

- Al poner un nombre de elemento en la selección no se selecciona (¿siempre?).
- Arreglar eliminación de horarios hijos en horarios padres:
    - Si se elimina un horario diario el horario mensual que lo use se queda en situación inconsistente
    - Indicar error

# Mejoras

- instalar con npm install --legacy-peer-deps
- Migrar a AG Grid https://www.ag-grid.com/javascript-data-grid/component-cell-editor/ ?
- Pestaña de informes:
    - Mediciones (superficies, pesos y volúmenes)
- Poner en gris materiales, vidrios, marcos y construcciones de opacos y huecos no usadas
- Introducir overrides de huecos y muros...
- Añadir en editor de geometría una imagen del polígono (hacer versión en SVG).
- Tablas de horarios: mostrar de forma gráfica (secuencias de cajas de colores)
- Añadir valores de referencia HE nuevos y existentes, apéndice E, etc a gráficas
- Mostrar tooltip en los elementos con avisos
- ThreeView
    - Tomar ideas de visualización de visorgbxml:
        - https://www.ladybug.tools/spider-gbxml-tools/spider-gbxml-viewer/v-0-17-08/app-viewer/spider-gbxml-viewer.html
        - https://github.com/ladybug-tools/spider-gbxml-tools/tree/master/spider-gbxml-viewer/v-0-17-07
    - Posición del sol a partir de mes, día y hora
    - Opacidad aclarando elementos ocultos
    - Clipping plane: https://github.com/agviegas/IFC.js/commit/9be223de323e6acd936d9493eda5753a4ffe8183
    - Activar postproceso para mejorar calidad de imagen: https://github.com/IFCjs/web-ifc-viewer/blob/master/viewer/src/components/context/renderer/postproduction.ts
    - Seleccionar elemento activo en las tablas del modelo (y, al revés, mostrar elementos seleccionados en 3D), selecciones múltiples
    - Ver impacto de triangular geometría:
        - https://github.com/mapbox/earcut
        - https://discourse.threejs.org/t/2d-to-3d-shape-shade-and-texture/12299
        - https://www.ladybug.tools/spider-gbxml-tools/spider-gbxml-viewer/v-0-17-08/app-viewer/spider-gbxml-viewer.html
        - https://github.com/ladybug-tools/spider-gbxml-tools/tree/master/spider-gbxml-viewer/v-0-17-07
        - getBufferGeometry: https://github.com/ladybug-tools/spider-gbxml-tools/blob/7ade1e3bbdfa50f07ee35520d8d11e1bbc4e3757/spider-gbxml-viewer/v-0-17-07/core-gbx-gbxml/gbx-gbxml-parser.js#L253

# Nueva funcionalidad

- Botón para eliminar elementos no usados en cada pestaña (icono de limpiar)
- Nuevo tipo de construcciones en groundCons para aislamiento perimetral de soleras?
- Gestor de biblioteca en Ayudas
    - Seleccionar elementos y trasladar a la base de datos del edificio
- Integrar cálculo de F_sh;obst en el programa
    - Añadir en vista de huecos un botón para calcular F_sh;obst y otro para cargar datos externos (KyGananciasSolares.txt)
- Estimación de longitudes de PTs
- Definición de lamas en huecos
- Elementos: calcular acristalamientos con sombras móviles usando directamente parámetros U_gl, g_gl_n, tau_e_B y ro_e_B
- Elementos: calculadoras de U de opacos
- Elementos: "Medianeras". Calcular R_u de espacios acondicionados adyacentes y bajocubierta s/ UNE-EN ISO 8996=2021
- Elementos: añadir nueva construcción de hueco a partir de pestaña de elementos
- Gráfica de radiación y fshwi por orientaciones en clima
- Dibujar trayectorias solares en el espacio, para algunos meses y poder mostrar u ocultar.
    - https://drajmarsh.bitbucket.io/sunpath3d.html
    - http://andrewmarsh.com/software/sunpath2d-web/
    - ver http://andrewmarsh.com/software/
    - http://andrewmarsh.com/software/psychro-chart-web/

# Reorganizaciones

## Rust + ES
- Ver si es posible llevar la salida del logging de Rust a los avisos de wasm
    - Guardar en cada bloque de hulc los avisos y recolectarlos en la conversión a objetos y luego trasladarlos a wasm
- Llevar a wasm:
    - funciones para actualizar geometría, construcciones o datos generales para evitar recálculos innecesarios (manteniendo modelo espejo en Rust).

## ES
- Trasladar datos a public/data? (usando luego fetch o direcciones como <a href={process.env.PUBLIC_URL + "/data/zcraddata.json"}>Enlace</a>)
